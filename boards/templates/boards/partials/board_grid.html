<div class="grid gap-5 md:grid-cols-2 xl:grid-cols-3" data-board-grid>
    {% for board in boards %}
        <article class="group relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-5 shadow-xl transition hover:-translate-y-1 hover:border-emerald-300/60" onclick="navigateBoard('{% url 'boards:board_detail' board.id %}')">
            <div class="flex items-start justify-between gap-3">
                <div>
                    <p class="text-xs uppercase tracking-wide text-slate-400">Tableau</p>
                    <h2 class="text-xl font-semibold text-white">{{ board.title }}</h2>
                    <p class="text-sm text-slate-400">PropriÃ©taire Â· {{ board.owner }}</p>
                </div>
                <span class="rounded-full bg-white/10 px-3 py-1 text-xs font-semibold text-slate-200">{{ board.created_at|date:"d/m" }}</span>
            </div>
            <dl class="mt-5 grid grid-cols-2 gap-3 text-xs text-slate-300">
                <div class="rounded-2xl border border-white/10 bg-white/5 px-3 py-2">
                    <dt class="text-[10px] uppercase tracking-wide">Listes</dt>
                    <dd class="text-lg font-semibold text-white">{{ board.list_count }}</dd>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 px-3 py-2">
                    <dt class="text-[10px] uppercase tracking-wide">Cartes</dt>
                    <dd class="text-lg font-semibold text-white">{{ board.card_count }}</dd>
                </div>
            </dl>
            <div class="mt-5 flex items-center justify-between text-xs text-slate-400">
                <span>â†» {{ board.updated_at|default:board.created_at|date:"d/m/Y H:i" }}</span>
                <div class="flex gap-2">
                    <button type="button" class="rounded-full border border-white/10 px-3 py-1 text-xs font-semibold text-white hover:bg-white/10" data-tooltip="Modifier le nom" onclick="event.stopPropagation(); openRename('{{ board.id }}','{{ board.title|escapejs }}')">Renommer</button>
                    <form method="post" action="{% url 'boards:delete_board' board.id %}" onsubmit="event.stopPropagation(); return window.handleConfirmSubmit(event, 'Supprimer ce tableau ?', this);">
                        {% csrf_token %}
                        <button type="submit" class="rounded-full border border-red-200/30 px-3 py-1 text-xs font-semibold text-red-200 hover:bg-red-200/10" data-tooltip="Supprimer dÃ©finitivement" onclick="event.stopPropagation()">Supprimer</button>
                    </form>
                </div>
            </div>
        </article>
    {% empty %}
        <div class="col-span-full empty-state text-slate-300">
            <p class="empty-state-icon mb-3">ğŸ”</p>
            <h3 class="text-lg font-semibold text-white">Aucun tableau ne correspond</h3>
            <p class="mt-2 text-sm text-slate-400">Ajuste la recherche ou crÃ©e un nouveau tableau.</p>
            <button type="button" onclick="openBoardModal()" class="mt-4 inline-flex rounded-full bg-emerald-400 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-emerald-300 btn-focus-visible">Nouveau tableau</button>
        </div>
    {% endfor %}
</div>

